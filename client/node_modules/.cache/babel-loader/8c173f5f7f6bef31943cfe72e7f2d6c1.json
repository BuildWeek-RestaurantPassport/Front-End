{"ast":null,"code":"import _slicedToArray from \"/Users/spacecaptain2/Desktop/Lambda/Builds/buildweek-restaurant-passport/Front-End/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/spacecaptain2/Desktop/Lambda/Builds/buildweek-restaurant-passport/Front-End/client/src/components/restaurants/Restaurants.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport axiosWithAuth from '../../utils/axiosWithAuth';\nimport styled from 'styled-components';\nimport Restaurant from './Restaurant';\nconst Container = styled.div`\n    margin-top: 1rem;\n    text-align:center;\n`;\nconst RestaurantList = styled.div`\n    display: grid;\n    grid-template-columns: repeat(3, 1fr);\n    grid-gap: 1rem;\n    margin: 1rem 1rem;\n`;\n\nconst Restaurants = props => {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        restaurants = _useState2[0],\n        setRestaurants = _useState2[1];\n\n  const _useState3 = useState(''),\n        _useState4 = _slicedToArray(_useState3, 2),\n        city = _useState4[0],\n        setCity = _useState4[1];\n\n  const params = useParams();\n\n  const getRestaurants = () => {\n    axiosWithAuth().get(`/cities/${params.id}/restaurants`).then(response => {\n      setRestaurants(response.data.restaurants);\n    }).catch(error => console.log(error.message));\n  };\n\n  useEffect(() => {\n    axiosWithAuth().get(`/cities/${params.id}`).then(res => setCity(res.data)).catch(error => console.log(error.message));\n    getRestaurants();\n  }, []);\n  return React.createElement(Container, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, city.name), React.createElement(Link, {\n    to: `/cities/${params.id}/add-restaurant`,\n    className: \"btn btn-primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, \"Add a restaurant\"), React.createElement(RestaurantList, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, restaurants.map(restaurant => React.createElement(Restaurant, {\n    key: restaurant.id,\n    restaurant: restaurant,\n    getRestaurants: getRestaurants,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }))));\n};\n\nexport default Restaurants;","map":{"version":3,"sources":["/Users/spacecaptain2/Desktop/Lambda/Builds/buildweek-restaurant-passport/Front-End/client/src/components/restaurants/Restaurants.jsx"],"names":["React","useState","useEffect","Link","useParams","axiosWithAuth","styled","Restaurant","Container","div","RestaurantList","Restaurants","props","restaurants","setRestaurants","city","setCity","params","getRestaurants","get","id","then","response","data","catch","error","console","log","message","res","name","map","restaurant"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,IAAT,EAAeC,SAAf,QAAgC,kBAAhC;AACA,OAAOC,aAAP,MAA0B,2BAA1B;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AAEA,MAAMC,SAAS,GAAGF,MAAM,CAACG,GAAI;;;CAA7B;AAKA,MAAMC,cAAc,GAAGJ,MAAM,CAACG,GAAI;;;;;CAAlC;;AAOA,MAAME,WAAW,GAAIC,KAAD,IAAW;AAAA,oBACWX,QAAQ,CAAC,EAAD,CADnB;AAAA;AAAA,QACpBY,WADoB;AAAA,QACPC,cADO;;AAAA,qBAEHb,QAAQ,CAAC,EAAD,CAFL;AAAA;AAAA,QAEpBc,IAFoB;AAAA,QAEdC,OAFc;;AAG3B,QAAMC,MAAM,GAAGb,SAAS,EAAxB;;AAEA,QAAMc,cAAc,GAAG,MAAM;AACzBb,IAAAA,aAAa,GACRc,GADL,CACU,WAAUF,MAAM,CAACG,EAAG,cAD9B,EAEKC,IAFL,CAEUC,QAAQ,IAAI;AACdR,MAAAA,cAAc,CAACQ,QAAQ,CAACC,IAAT,CAAcV,WAAf,CAAd;AACH,KAJL,EAKKW,KALL,CAKWC,KAAK,IAAIC,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACG,OAAlB,CALpB;AAMH,GAPD;;AASA1B,EAAAA,SAAS,CAAC,MAAM;AACZG,IAAAA,aAAa,GACRc,GADL,CACU,WAAUF,MAAM,CAACG,EAAG,EAD9B,EAEKC,IAFL,CAEUQ,GAAG,IAAIb,OAAO,CAACa,GAAG,CAACN,IAAL,CAFxB,EAGKC,KAHL,CAGWC,KAAK,IAAIC,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACG,OAAlB,CAHpB;AAKAV,IAAAA,cAAc;AAEjB,GARQ,EAQN,EARM,CAAT;AAUA,SACI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKH,IAAI,CAACe,IAAV,CADJ,EAEI,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAG,WAAUb,MAAM,CAACG,EAAG,iBAA/B;AAAiD,IAAA,SAAS,EAAC,iBAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAFJ,EAGI,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKP,WAAW,CAACkB,GAAZ,CAAgBC,UAAU,IACvB,oBAAC,UAAD;AACI,IAAA,GAAG,EAAEA,UAAU,CAACZ,EADpB;AAEI,IAAA,UAAU,EAAEY,UAFhB;AAGI,IAAA,cAAc,EAAEd,cAHpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADH,CADL,CAHJ,CADJ;AAeH,CAvCD;;AAwCA,eAAeP,WAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport axiosWithAuth from '../../utils/axiosWithAuth';\nimport styled from 'styled-components';\nimport Restaurant from './Restaurant';\n\nconst Container = styled.div`\n    margin-top: 1rem;\n    text-align:center;\n`\n\nconst RestaurantList = styled.div`\n    display: grid;\n    grid-template-columns: repeat(3, 1fr);\n    grid-gap: 1rem;\n    margin: 1rem 1rem;\n`\n\nconst Restaurants = (props) => {\n    const [restaurants, setRestaurants] = useState([]);\n    const [city, setCity] = useState('');\n    const params = useParams();\n\n    const getRestaurants = () => {\n        axiosWithAuth()\n            .get(`/cities/${params.id}/restaurants`)\n            .then(response => {\n                setRestaurants(response.data.restaurants);\n            })\n            .catch(error => console.log(error.message));\n    }\n\n    useEffect(() => {\n        axiosWithAuth()\n            .get(`/cities/${params.id}`)\n            .then(res => setCity(res.data))\n            .catch(error => console.log(error.message));\n\n        getRestaurants();\n\n    }, [])\n\n    return (\n        <Container>\n            <h2>{city.name}</h2>\n            <Link to={`/cities/${params.id}/add-restaurant`} className=\"btn btn-primary\">Add a restaurant</Link>\n            <RestaurantList>\n                {restaurants.map(restaurant => (\n                    <Restaurant\n                        key={restaurant.id}\n                        restaurant={restaurant}\n                        getRestaurants={getRestaurants}\n                    />\n                ))}\n            </RestaurantList>\n        </Container>\n    )\n};\nexport default Restaurants;"]},"metadata":{},"sourceType":"module"}