{"ast":null,"code":"import _slicedToArray from \"/Users/spacecaptain2/Desktop/Lambda/Builds/buildweek-restaurant-passport/Front-End/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/spacecaptain2/Desktop/Lambda/Builds/buildweek-restaurant-passport/Front-End/client/src/components/restaurants/Restaurant.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useHistory } from 'react-router-dom';\nimport axiosWithAuth from '../../utils/axiosWithAuth';\nimport { Rating } from 'semantic-ui-react';\n\nconst Restaurant = props => {\n  const _useState = useState({\n    rating: props.restaurant.rating,\n    maxRating: 5\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        rating = _useState2[0],\n        setRating = _useState2[1];\n\n  console.log(props.restaurant);\n  const history = useHistory();\n  const params = useParams();\n\n  const removeRestaurant = event => {\n    event.preventDefault();\n    axiosWithAuth().delete(`/cities/restaurants/${props.restaurant.restID}`).then(() => {\n      props.getRestaurants();\n      history.push(`/cities/${params.id}`);\n    }).catch(error => console.log(\"Unable to delete restaurant\", error.message));\n  };\n\n  const onRate = (event, stats) => {\n    setRating({\n      rating: stats.rating,\n      maxRating: stats.maxRating\n    });\n  };\n\n  useEffect(() => {\n    if (rating.rating) {\n      axiosWithAuth().put(`/cities/restaurants/${props.restaurant.restID}`, {\n        rating: rating.rating\n      }).then(res => console.log(res.data)).catch(error => console.log(\"Unable to delete restaurant\", error.message));\n    }\n  }, [rating.rating]);\n  return React.createElement(\"div\", {\n    className: \"card\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"card-body\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    className: \"card-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, props.restaurant.restName), React.createElement(\"address\", {\n    className: \"address\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, props.restaurant.address), React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, props.restaurant.city)), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, props.restaurant.description), React.createElement(Rating, {\n    className: \"rating\",\n    icon: \"star\",\n    rating: rating.rating,\n    onRate: onRate,\n    maxRating: 5,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    className: \"btn btn-primary\",\n    onClick: removeRestaurant,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, \"Remove from Passport\")));\n};\n\nexport default Restaurant;","map":{"version":3,"sources":["/Users/spacecaptain2/Desktop/Lambda/Builds/buildweek-restaurant-passport/Front-End/client/src/components/restaurants/Restaurant.jsx"],"names":["React","useState","useEffect","useParams","useHistory","axiosWithAuth","Rating","Restaurant","props","rating","restaurant","maxRating","setRating","console","log","history","params","removeRestaurant","event","preventDefault","delete","restID","then","getRestaurants","push","id","catch","error","message","onRate","stats","put","res","data","restName","address","city","description"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useHistory } from 'react-router-dom';\nimport axiosWithAuth from '../../utils/axiosWithAuth';\nimport { Rating } from 'semantic-ui-react';\n\nconst Restaurant = (props) => {\n\n    const [rating, setRating] = useState({ rating: props.restaurant.rating, maxRating: 5 });\n    console.log(props.restaurant)\n    const history = useHistory();\n    const params = useParams();\n\n\n    const removeRestaurant = event => {\n        event.preventDefault();\n\n        axiosWithAuth()\n            .delete(`/cities/restaurants/${props.restaurant.restID}`)\n            .then(() => {\n                props.getRestaurants();\n                history.push(`/cities/${params.id}`);\n            })\n            .catch(error => console.log(\"Unable to delete restaurant\", error.message));\n    };\n\n    const onRate = (event, stats) => {\n        setRating({ rating: stats.rating, maxRating: stats.maxRating })\n    }\n\n    useEffect(() => {\n        if (rating.rating) {\n            axiosWithAuth()\n                .put(`/cities/restaurants/${props.restaurant.restID}`, { rating: rating.rating })\n                .then(res => console.log(res.data))\n                .catch(error => console.log(\"Unable to delete restaurant\", error.message));\n        }\n    }, [rating.rating]);\n\n    return (\n        <div className=\"card\">\n            <div className=\"card-body\">\n                <h1 className=\"card-title\">{props.restaurant.restName}</h1>\n\n                <address className=\"address\">\n                    <span>{props.restaurant.address}</span>\n                    <span>{props.restaurant.city}</span>\n                </address>\n\n                <p>{props.restaurant.description}</p>\n\n                <Rating className=\"rating\" icon='star' rating={rating.rating} onRate={onRate} maxRating={5} />\n\n                <button className=\"btn btn-primary\" onClick={removeRestaurant}>\n                    Remove from Passport\n\t\t\t</button>\n            </div>\n        </div>\n    );\n};\n\nexport default Restaurant;"]},"metadata":{},"sourceType":"module"}